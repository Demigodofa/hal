<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>HAL Relay</title>
  <style>
    body { font-family: sans-serif; padding: 1rem; }
    .row { display: flex; gap: 1rem; margin-bottom: 0.5rem; }
    .col { flex: 1; }
    .btn { padding: 0.4rem 0.8rem; border: 1px solid #ccc; cursor: pointer; border-radius: 4px; }
    .btn.ok { background: #2ecc71; color: white; }
    .btn.alt { background: #3498db; color: white; }
    .log { border: 1px solid #ddd; padding: 0.5rem; min-height: 120px; max-height: 200px; overflow-y: auto; white-space: pre-wrap; font-family: monospace; background: #fafafa; }
    textarea { width: 100%; min-height: 80px; font-family: monospace; }
    label { display: block; margin-top: 0.5rem; }
    h3 { margin-top: 1.5rem; }
  </style>
</head>
<body>

<div class="row">
  <div class="col">
    <label>SSD root (auto-detects GENESIS)</label>
    <input id="ssdLabel" placeholder="Not selected" disabled />
  </div>
  <div><button class="btn" id="pickBtn">Choose Folder</button></div>
  <div><button class="btn alt" id="reconnectBtn" title="Try saved handle">Reconnect</button></div>
</div>
<label><input id="rememberSsd" type="checkbox" checked> Remember SSD selection (IndexedDB)</label>

<hr>
<h3>GitHub Direct (Render bypass locked ON)</h3>
<div class="row">
  <div class="col"><label>GitHub Token (repo read/write)</label><input id="ghToken" type="password" placeholder="classic token"/></div>
  <div class="col"><label>Repo</label><input id="ghRepo" value="Demigodofa/hal"/></div>
</div>
<div class="row">
  <div class="col"><label>Branch</label><input id="ghBranch" value="main"/></div>
  <div class="col"><label>Auto-clear command after success</label><select id="autoClear"><option value="1" selected>Yes</option><option value="0">No</option></select></div>
</div>

<hr>
<h3>Checkpoint Scheduler</h3>
<div class="row">
  <div class="col"><label><input id="schedEnable" type="checkbox"> Enable periodic checkpoint</label></div>
  <div class="col"><label>Every (minutes)</label><input id="schedEvery" type="number" min="1" value="30"/></div>
  <div><button class="btn" id="schedNow">Checkpoint Now</button></div>
</div>
<label><input id="rememberSettings" type="checkbox" checked> Remember settings (localStorage)</label>

<label style="margin-top:10px">Command block or JSON</label>
<textarea id="cmdInput" spellcheck="false" placeholder="Paste [KEV_AI::command]... or raw JSON here"></textarea>
<div class="row" style="margin-top:8px">
  <div class="col">
    <button class="btn ok" id="runOnce">Process Once</button>
    <button class="btn alt" id="clearLog">Clear Log</button>
    <button class="btn" id="watchClipboard">Watch Clipboard</button>
  </div>
</div>

<label style="margin-top:12px">Local + SSD Log</label>
<div class="log" id="log"></div>

<label style="margin-top:12px">GitHub Debug Log</label>
<div class="log" id="ghLog"></div>

<p class="muted">This page reads/writes GENESIS and pushes to GitHub.</p>

<script src="relay.js" defer></script>
</body>
</html>
